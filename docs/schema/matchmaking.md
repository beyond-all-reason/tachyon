<!-- THIS FILE IS AUTOMATICALLY GENERATED, PLEASE DO NOT EDIT IT MANUALLY -->

# Matchmaking

The matchmaking cycle works as follows:

1. Clients should first retrieve a list of all the available playlists from the server using a [matchmaking/list](#list) request.
2. Clients can then queue for one or more of these playlists by sending an array of playlist ids in a [matchmaking/queue](#queue) request.
3. The server can send periodic updates about the status of the search as [matchmaking/queueUpdate](#queueupdate) events.
4. When a match is found, the server must send a [matchmaking/found](#found) event along with the playlist id of the found match.
5. Clients should then ready up by sending a [matchmaking/ready](#ready) request. The number of ready players should be sent to clients via the [matchmaking/readyUpdate](#readyupdate) response.
6. To cancel queueing, or to decline a found match, clients should send a [matchmaking/cancel](#cancel) request.
7. If a client fails to ready up for a found match, the server should send a [matchmaking/lost](#lost) response, and the queueing phase should resume.
8. When all players are ready, the server should send a [autohost/launch](autohost#launch) request to a provisioned autohost client
9. When the autohost has sent a successful [autohost/launch](autohost#launch) response, the server must then send [game/launch](game#launch) requests to the users.
---
- [cancel](#cancel)
- [declined](#declined)
- [found](#found)
- [foundUpdate](#foundupdate)
- [list](#list)
- [lost](#lost)
- [queue](#queue)
- [queueUpdate](#queueupdate)
- [ready](#ready)
- [readyUpdate](#readyupdate)
---

## Cancel

Cancel queueing for matchmaking.

- Endpoint Type: **Request** -> **Response**
- Source: **User**
- Target: **Server**
- Requires Role: `tachyon.lobby`

### Request

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "matchmaking/cancel/request",
    "scopes": [
        "tachyon.lobby"
    ],
    "type": "object",
    "properties": {
        "type": {
            "const": "request",
            "type": "string"
        },
        "messageId": {
            "type": "string"
        },
        "commandId": {
            "const": "matchmaking/cancel",
            "type": "string"
        }
    },
    "required": [
        "type",
        "messageId",
        "commandId"
    ]
}
```

</details>

<details>
<summary>Example</summary>

```json
{
    "type": "request",
    "messageId": "consequat quis",
    "commandId": "matchmaking/cancel"
}
```
</details>

#### TypeScript Definition
```ts
export interface MatchmakingCancelRequest {
    type: "request";
    messageId: string;
    commandId: "matchmaking/cancel";
}

```
### Response

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "matchmaking/cancel/response",
    "scopes": [
        "tachyon.lobby"
    ],
    "anyOf": [
        {
            "type": "object",
            "properties": {
                "type": {
                    "const": "response",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/cancel",
                    "type": "string"
                },
                "status": {
                    "const": "success",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "status"
            ]
        },
        {
            "type": "object",
            "properties": {
                "type": {
                    "const": "response",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/cancel",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "not_queued",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "type": {
                    "const": "response",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/cancel",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "internal_error",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "type": {
                    "const": "response",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/cancel",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "unauthorized",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "type": {
                    "const": "response",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/cancel",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "invalid_request",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "type": {
                    "const": "response",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/cancel",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "command_unimplemented",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        }
    ]
}
```

</details>

<details>
<summary>Example</summary>

```json
{
    "type": "response",
    "messageId": "commodo laborum",
    "commandId": "matchmaking/cancel",
    "status": "success"
}
```
</details>

#### TypeScript Definition
```ts
export interface MatchmakingCancelResponse {
    type: "response";
    messageId: string;
    commandId: "matchmaking/cancel";
    status: "success";
}

```
---

## Declined

Sent when a found match is declined, either by manual rejection or timeout from any user in the queue.

- Endpoint Type: **Request** -> **Response**
- Source: **User**
- Target: **Server**
- Requires Role: `tachyon.lobby`

### Request

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "matchmaking/declined/request",
    "scopes": [
        "tachyon.lobby"
    ],
    "type": "object",
    "properties": {
        "type": {
            "const": "request",
            "type": "string"
        },
        "messageId": {
            "type": "string"
        },
        "commandId": {
            "const": "matchmaking/declined",
            "type": "string"
        }
    },
    "required": [
        "type",
        "messageId",
        "commandId"
    ]
}
```

</details>

<details>
<summary>Example</summary>

```json
{
    "type": "request",
    "messageId": "nisi deserunt",
    "commandId": "matchmaking/declined"
}
```
</details>

#### TypeScript Definition
```ts
export interface MatchmakingDeclinedRequest {
    type: "request";
    messageId: string;
    commandId: "matchmaking/declined";
}

```
### Response

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "matchmaking/declined/response",
    "scopes": [
        "tachyon.lobby"
    ],
    "anyOf": [
        {
            "type": "object",
            "properties": {
                "type": {
                    "const": "response",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/declined",
                    "type": "string"
                },
                "status": {
                    "const": "success",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "status"
            ]
        },
        {
            "type": "object",
            "properties": {
                "type": {
                    "const": "response",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/declined",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "internal_error",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "type": {
                    "const": "response",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/declined",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "unauthorized",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "type": {
                    "const": "response",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/declined",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "invalid_request",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "type": {
                    "const": "response",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/declined",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "command_unimplemented",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        }
    ]
}
```

</details>

<details>
<summary>Example</summary>

```json
{
    "type": "response",
    "messageId": "nisi qui",
    "commandId": "matchmaking/declined",
    "status": "success"
}
```
</details>

#### TypeScript Definition
```ts
export interface MatchmakingDeclinedResponse {
    type: "response";
    messageId: string;
    commandId: "matchmaking/declined";
    status: "success";
}

```
---

## Found

Server should send this when there are enough queued players to form a valid game that meets their criteria. Clients should then send [ready](#ready).

- Endpoint Type: **Event**
- Source: **Server**
- Target: **User**
- Requires Role: `tachyon.lobby`

### Event

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "matchmaking/found/event",
    "scopes": [
        "tachyon.lobby"
    ],
    "type": "object",
    "properties": {
        "type": {
            "const": "event",
            "type": "string"
        },
        "messageId": {
            "type": "string"
        },
        "commandId": {
            "const": "matchmaking/found",
            "type": "string"
        },
        "data": {
            "type": "object",
            "properties": {
                "queueId": {
                    "type": "string"
                },
                "timeoutMs": {
                    "type": "integer"
                }
            },
            "required": [
                "queueId",
                "timeoutMs"
            ]
        }
    },
    "required": [
        "type",
        "messageId",
        "commandId",
        "data"
    ]
}
```

</details>

<details>
<summary>Example</summary>

```json
{
    "type": "event",
    "messageId": "laboris non",
    "commandId": "matchmaking/found",
    "data": {
        "queueId": "laboris non",
        "timeoutMs": -36000000
    }
}
```
</details>

#### TypeScript Definition
```ts
export interface MatchmakingFoundEvent {
    type: "event";
    messageId: string;
    commandId: "matchmaking/found";
    data: {
        queueId: string;
        timeoutMs: number;
    };
}

```
---

## FoundUpdate

Server should send this when players ready up using [ready](#ready).

- Endpoint Type: **Event**
- Source: **Server**
- Target: **User**
- Requires Role: `tachyon.lobby`

### Event

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "matchmaking/foundUpdate/event",
    "scopes": [
        "tachyon.lobby"
    ],
    "type": "object",
    "properties": {
        "type": {
            "const": "event",
            "type": "string"
        },
        "messageId": {
            "type": "string"
        },
        "commandId": {
            "const": "matchmaking/foundUpdate",
            "type": "string"
        },
        "data": {
            "type": "object",
            "properties": {
                "readyCount": {
                    "type": "integer"
                }
            },
            "required": [
                "readyCount"
            ]
        }
    },
    "required": [
        "type",
        "messageId",
        "commandId",
        "data"
    ]
}
```

</details>

<details>
<summary>Example</summary>

```json
{
    "type": "event",
    "messageId": "ullamco occaecat",
    "commandId": "matchmaking/foundUpdate",
    "data": {
        "readyCount": -34000000
    }
}
```
</details>

#### TypeScript Definition
```ts
export interface MatchmakingFoundUpdateEvent {
    type: "event";
    messageId: string;
    commandId: "matchmaking/foundUpdate";
    data: {
        readyCount: number;
    };
}

```
---

## List

Returns all available matchmaking playlists.

- Endpoint Type: **Request** -> **Response**
- Source: **User**
- Target: **Server**
- Requires Role: `tachyon.lobby`

### Request

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "matchmaking/list/request",
    "scopes": [
        "tachyon.lobby"
    ],
    "type": "object",
    "properties": {
        "type": {
            "const": "request",
            "type": "string"
        },
        "messageId": {
            "type": "string"
        },
        "commandId": {
            "const": "matchmaking/list",
            "type": "string"
        }
    },
    "required": [
        "type",
        "messageId",
        "commandId"
    ]
}
```

</details>

<details>
<summary>Example</summary>

```json
{
    "type": "request",
    "messageId": "reprehenderit Lorem",
    "commandId": "matchmaking/list"
}
```
</details>

#### TypeScript Definition
```ts
export interface MatchmakingListRequest {
    type: "request";
    messageId: string;
    commandId: "matchmaking/list";
}

```
### Response

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "matchmaking/list/response",
    "scopes": [
        "tachyon.lobby"
    ],
    "anyOf": [
        {
            "type": "object",
            "properties": {
                "type": {
                    "const": "response",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/list",
                    "type": "string"
                },
                "status": {
                    "const": "success",
                    "type": "string"
                },
                "data": {
                    "examples": [
                        {
                            "playlists": [
                                {
                                    "id": "1v1",
                                    "name": "Duel",
                                    "numOfTeams": 2,
                                    "teamSize": 1,
                                    "ranked": true
                                },
                                {
                                    "id": "1v1v1",
                                    "name": "3 Way FFA",
                                    "numOfTeams": 3,
                                    "teamSize": 1,
                                    "ranked": true
                                }
                            ]
                        }
                    ],
                    "type": "object",
                    "properties": {
                        "playlists": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "id": {
                                        "type": "string"
                                    },
                                    "name": {
                                        "type": "string"
                                    },
                                    "numOfTeams": {
                                        "type": "integer"
                                    },
                                    "teamSize": {
                                        "type": "integer"
                                    },
                                    "ranked": {
                                        "type": "boolean"
                                    }
                                },
                                "required": [
                                    "id",
                                    "name",
                                    "numOfTeams",
                                    "teamSize",
                                    "ranked"
                                ]
                            }
                        }
                    },
                    "required": [
                        "playlists"
                    ]
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "status",
                "data"
            ]
        },
        {
            "type": "object",
            "properties": {
                "type": {
                    "const": "response",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/list",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "internal_error",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "type": {
                    "const": "response",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/list",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "unauthorized",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "type": {
                    "const": "response",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/list",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "invalid_request",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "type": {
                    "const": "response",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/list",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "command_unimplemented",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        }
    ]
}
```

</details>

<details>
<summary>Example</summary>

```json
{
    "type": "response",
    "messageId": "dolor Lorem",
    "commandId": "matchmaking/list",
    "status": "success",
    "data": {
        "playlists": [
            {
                "id": "1v1",
                "name": "Duel",
                "numOfTeams": 2,
                "teamSize": 1,
                "ranked": true
            },
            {
                "id": "1v1v1",
                "name": "3 Way FFA",
                "numOfTeams": 3,
                "teamSize": 1,
                "ranked": true
            }
        ]
    }
}
```
</details>

#### TypeScript Definition
```ts
export interface MatchmakingListResponse {
    type: "response";
    messageId: string;
    commandId: "matchmaking/list";
    status: "success";
    data: {
        playlists: {
            id: string;
            name: string;
            numOfTeams: number;
            teamSize: number;
            ranked: boolean;
        }[];
    };
}

```
---

## Lost

Sent when a found match gets disbanded because a client failed to ready up.

- Endpoint Type: **Event**
- Source: **Server**
- Target: **User**
- Requires Role: `tachyon.lobby`

### Event

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "matchmaking/lost/event",
    "scopes": [
        "tachyon.lobby"
    ],
    "type": "object",
    "properties": {
        "type": {
            "const": "event",
            "type": "string"
        },
        "messageId": {
            "type": "string"
        },
        "commandId": {
            "const": "matchmaking/lost",
            "type": "string"
        }
    },
    "required": [
        "type",
        "messageId",
        "commandId"
    ]
}
```

</details>

<details>
<summary>Example</summary>

```json
{
    "type": "event",
    "messageId": "Duis Lorem",
    "commandId": "matchmaking/lost"
}
```
</details>

#### TypeScript Definition
```ts
export interface MatchmakingLostEvent {
    type: "event";
    messageId: string;
    commandId: "matchmaking/lost";
}

```
---

## Queue

Queue up for matchmaking. Should cancel the previous queue if already in one.

- Endpoint Type: **Request** -> **Response**
- Source: **User**
- Target: **Server**
- Requires Role: `tachyon.lobby`

### Request

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "matchmaking/queue/request",
    "scopes": [
        "tachyon.lobby"
    ],
    "type": "object",
    "properties": {
        "type": {
            "const": "request",
            "type": "string"
        },
        "messageId": {
            "type": "string"
        },
        "commandId": {
            "const": "matchmaking/queue",
            "type": "string"
        },
        "data": {
            "type": "object",
            "properties": {
                "queues": {
                    "minItems": 1,
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            },
            "required": [
                "queues"
            ]
        }
    },
    "required": [
        "type",
        "messageId",
        "commandId",
        "data"
    ]
}
```

</details>

<details>
<summary>Example</summary>

```json
{
    "type": "request",
    "messageId": "consequat Lorem",
    "commandId": "matchmaking/queue",
    "data": {
        "queues": [
            "consequat Lorem",
            "consequat Lorem"
        ]
    }
}
```
</details>

#### TypeScript Definition
```ts
export interface MatchmakingQueueRequest {
    type: "request";
    messageId: string;
    commandId: "matchmaking/queue";
    data: {
        queues: [string, ...string[]];
    };
}

```
### Response

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "matchmaking/queue/response",
    "scopes": [
        "tachyon.lobby"
    ],
    "anyOf": [
        {
            "type": "object",
            "properties": {
                "type": {
                    "const": "response",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/queue",
                    "type": "string"
                },
                "status": {
                    "const": "success",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "status"
            ]
        },
        {
            "type": "object",
            "properties": {
                "type": {
                    "const": "response",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/queue",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "invalid_queue_specified",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "type": {
                    "const": "response",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/queue",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "already_queued",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "type": {
                    "const": "response",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/queue",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "already_ingame",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "type": {
                    "const": "response",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/queue",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "internal_error",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "type": {
                    "const": "response",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/queue",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "unauthorized",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "type": {
                    "const": "response",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/queue",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "invalid_request",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "type": {
                    "const": "response",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/queue",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "command_unimplemented",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        }
    ]
}
```

</details>

<details>
<summary>Example</summary>

```json
{
    "type": "response",
    "messageId": "commodo Lorem",
    "commandId": "matchmaking/queue",
    "status": "success"
}
```
</details>

#### TypeScript Definition
```ts
export interface MatchmakingQueueResponse {
    type: "response";
    messageId: string;
    commandId: "matchmaking/queue";
    status: "success";
}

```
---

## QueueUpdate

Contains some info about the state of the current queue.

- Endpoint Type: **Event**
- Source: **Server**
- Target: **User**
- Requires Role: `tachyon.lobby`

### Event

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "matchmaking/queueUpdate/event",
    "scopes": [
        "tachyon.lobby"
    ],
    "type": "object",
    "properties": {
        "type": {
            "const": "event",
            "type": "string"
        },
        "messageId": {
            "type": "string"
        },
        "commandId": {
            "const": "matchmaking/queueUpdate",
            "type": "string"
        },
        "data": {
            "type": "object",
            "properties": {
                "playersQueued": {
                    "type": "string"
                }
            },
            "required": [
                "playersQueued"
            ]
        }
    },
    "required": [
        "type",
        "messageId",
        "commandId",
        "data"
    ]
}
```

</details>

<details>
<summary>Example</summary>

```json
{
    "type": "event",
    "messageId": "ut Lorem",
    "commandId": "matchmaking/queueUpdate",
    "data": {
        "playersQueued": "ut Lorem"
    }
}
```
</details>

#### TypeScript Definition
```ts
export interface MatchmakingQueueUpdateEvent {
    type: "event";
    messageId: string;
    commandId: "matchmaking/queueUpdate";
    data: {
        playersQueued: string;
    };
}

```
---

## Ready

Clients should send this when they are ready to proceed with the found match. If not sent within 10s of the [found](#found) response then queue should be cancelled.

- Endpoint Type: **Request** -> **Response**
- Source: **User**
- Target: **Server**
- Requires Role: `tachyon.lobby`

### Request

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "matchmaking/ready/request",
    "scopes": [
        "tachyon.lobby"
    ],
    "type": "object",
    "properties": {
        "type": {
            "const": "request",
            "type": "string"
        },
        "messageId": {
            "type": "string"
        },
        "commandId": {
            "const": "matchmaking/ready",
            "type": "string"
        }
    },
    "required": [
        "type",
        "messageId",
        "commandId"
    ]
}
```

</details>

<details>
<summary>Example</summary>

```json
{
    "type": "request",
    "messageId": "occaecat Lorem in",
    "commandId": "matchmaking/ready"
}
```
</details>

#### TypeScript Definition
```ts
export interface MatchmakingReadyRequest {
    type: "request";
    messageId: string;
    commandId: "matchmaking/ready";
}

```
### Response

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "matchmaking/ready/response",
    "scopes": [
        "tachyon.lobby"
    ],
    "anyOf": [
        {
            "type": "object",
            "properties": {
                "type": {
                    "const": "response",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/ready",
                    "type": "string"
                },
                "status": {
                    "const": "success",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "status"
            ]
        },
        {
            "type": "object",
            "properties": {
                "type": {
                    "const": "response",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/ready",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "no_match",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "type": {
                    "const": "response",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/ready",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "internal_error",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "type": {
                    "const": "response",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/ready",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "unauthorized",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "type": {
                    "const": "response",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/ready",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "invalid_request",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        },
        {
            "type": "object",
            "properties": {
                "type": {
                    "const": "response",
                    "type": "string"
                },
                "messageId": {
                    "type": "string"
                },
                "commandId": {
                    "const": "matchmaking/ready",
                    "type": "string"
                },
                "status": {
                    "const": "failed",
                    "type": "string"
                },
                "reason": {
                    "const": "command_unimplemented",
                    "type": "string"
                }
            },
            "required": [
                "type",
                "messageId",
                "commandId",
                "status",
                "reason"
            ]
        }
    ]
}
```

</details>

<details>
<summary>Example</summary>

```json
{
    "type": "response",
    "messageId": "pariatur Lorem reprehenderit",
    "commandId": "matchmaking/ready",
    "status": "success"
}
```
</details>

#### TypeScript Definition
```ts
export interface MatchmakingReadyResponse {
    type: "response";
    messageId: string;
    commandId: "matchmaking/ready";
    status: "success";
}

```
---

## ReadyUpdate

Sent when a client in a found match readies up.

- Endpoint Type: **Event**
- Source: **Server**
- Target: **User**
- Requires Role: `tachyon.lobby`

### Event

<details>
<summary>JSONSchema</summary>

```json
{
    "$id": "matchmaking/readyUpdate/event",
    "scopes": [
        "tachyon.lobby"
    ],
    "type": "object",
    "properties": {
        "type": {
            "const": "event",
            "type": "string"
        },
        "messageId": {
            "type": "string"
        },
        "commandId": {
            "const": "matchmaking/readyUpdate",
            "type": "string"
        },
        "data": {
            "type": "object",
            "properties": {
                "readyMax": {
                    "type": "integer"
                },
                "readyCurrent": {
                    "type": "integer"
                }
            },
            "required": [
                "readyMax",
                "readyCurrent"
            ]
        }
    },
    "required": [
        "type",
        "messageId",
        "commandId",
        "data"
    ]
}
```

</details>

<details>
<summary>Example</summary>

```json
{
    "type": "event",
    "messageId": "fugiat Lorem irure",
    "commandId": "matchmaking/readyUpdate",
    "data": {
        "readyMax": -16000000,
        "readyCurrent": -16000000
    }
}
```
</details>

#### TypeScript Definition
```ts
export interface MatchmakingReadyUpdateEvent {
    type: "event";
    messageId: string;
    commandId: "matchmaking/readyUpdate";
    data: {
        readyMax: number;
        readyCurrent: number;
    };
}

```
